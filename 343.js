"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[343],{343:(t,e,a)=>{a.r(e),a.d(e,{default:()=>M});var o=a(1855);const n=function(){function t(t,e){if(t&&t.strokeStyle&&e&&e.width&&e.height){var a=document.createElement("canvas");a.width=Math.round(e.width),a.height=Math.round(e.height);var o=a.getContext("2d");o.drawImage(e,0,0,a.width,a.height);var n=document.createElement("canvas");n.width=t.canvas.width,n.height=t.canvas.height;var s=n.getContext("2d");this.ctxd=t,this.cvso=a,this.ctxo=o,this.ctxt=s}}return t.prototype.draw=function(t){for(var e=t.topLeftX,a=t.topLeftY,o=t.topRightX,n=t.topRightY,s=t.bottomRightX,r=t.bottomRightY,i=t.bottomLeftX,h=t.bottomLeftY,c=[Math.sqrt(Math.pow(e-o,2)+Math.pow(a-n,2)),Math.sqrt(Math.pow(o-s,2)+Math.pow(n-r,2)),Math.sqrt(Math.pow(s-i,2)+Math.pow(r-h,2)),Math.sqrt(Math.pow(i-e,2)+Math.pow(h-a,2))],l=this.cvso.width,d=this.cvso.height,p=0,m=0,f=0,v=0;v<4;v++){var g;(g=v%2?c[v]/l:c[v]/d)>m&&(p=v,m=g),0==c[v]&&f++}if(!(f>1)){var u=this.ctxo,w=this.ctxt;if(w.clearRect(0,0,w.canvas.width,w.canvas.height),p%2==0){(_=this.create_canvas_context(l,10)).globalCompositeOperation="copy";for(var A=_.canvas,b=0;b<d;b+=2){var M=e+(i-e)*(E=b/d),x=a+(h-a)*E,C=o+(s-o)*E,R=n+(r-n)*E,Y=Math.atan((R-x)/(C-M)),L=Math.sqrt(Math.pow(C-M,2)+Math.pow(R-x,2))/l;_.setTransform(1,0,0,1,0,-b),_.drawImage(u.canvas,0,0),w.translate(M,x),w.rotate(Y),w.scale(L,L),w.drawImage(A,0,0),w.setTransform(1,0,0,1,0,0)}}else if(p%2==1){var _;(_=this.create_canvas_context(10,d)).globalCompositeOperation="copy",A=_.canvas;for(var y=0;y<l;y+=2){var E;M=e+(o-e)*(E=y/l),x=a+(n-a)*E,C=i+(s-i)*E,R=h+(r-h)*E,Y=Math.atan((M-C)/(R-x)),L=Math.sqrt(Math.pow(C-M,2)+Math.pow(R-x,2))/d,_.setTransform(1,0,0,1,-y,0),_.drawImage(u.canvas,0,0),w.translate(M,x),w.rotate(Y),w.scale(L,L),w.drawImage(A,0,0),w.setTransform(1,0,0,1,0,0)}}this.ctxd.save(),this.ctxd.drawImage(w.canvas,0,0),this._applyMask(this.ctxd,t),this.ctxd.restore()}},t.prototype.create_canvas_context=function(t,e){var a=document.createElement("canvas");return a.width=t,a.height=e,a.getContext("2d")},t.prototype._applyMask=function(t,e){t.beginPath(),t.moveTo(e.topLeftX,e.topLeftY),t.lineTo(e.topRightX,e.topRightY),t.lineTo(e.bottomRightX,e.bottomRightY),t.lineTo(e.bottomLeftX,e.bottomLeftY),t.closePath(),t.globalCompositeOperation="destination-in",t.fill(),t.globalCompositeOperation="source-over"},t}();var s=a(6905),r=a.n(s),i=a(8750),h=a.n(i),c=a(2358),l=a.n(c),d=a(7321),p=a.n(d),m=a(6069),f=a.n(m),v=a(1826),g=a.n(v),u=a(4233),w={};w.styleTagTransform=g(),w.setAttributes=p(),w.insert=l().bind(null,"head"),w.domAPI=h(),w.insertStyleElement=f(),r()(u.A,w);const A=u.A&&u.A.locals?u.A.locals:void 0;function b(){const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{let e=new Image;e.onload=()=>{let a=t.current;if(null===a)return void alert("Canvas not loaded");let o=a.getContext("2d");null!==o?new n(o,e).draw({topLeftX:30,topLeftY:30,topRightX:e.width-50,topRightY:50,bottomRightX:e.width-70,bottomRightY:e.height-30,bottomLeftX:10,bottomLeftY:e.height}):alert("Context not loaded")},e.src=a(3373).A}),[]),o.createElement("canvas",{ref:t,width:512,height:512})}function M(){return o.createElement("section",{className:A.Section},o.createElement("h2",null,"Crop"),o.createElement(b,null))}},4233:(t,e,a)=>{a.d(e,{A:()=>i});var o=a(6954),n=a.n(o),s=a(7418),r=a.n(s)()(n());r.push([t.id,".sIPZuWzH_YWFcNouLZ84{display:flex;flex-direction:column}.sIPZuWzH_YWFcNouLZ84 nav a{margin:1em}","",{version:3,sources:["webpack://./src/containers/Crop/styles.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CACA,qBAAA,CAEE,4BACE,UAAA",sourcesContent:[".Section {\n  display: flex;\n  flex-direction: column;\n  nav {\n    a {\n      margin: 1em;\n    }\n  }\n}\n"],sourceRoot:""}]);const i=r},3373:(t,e,a)=>{a.d(e,{A:()=>o});const o=a.p+"f568d2fd9850ba5acda145872f42b371.jpg"}}]);
//# sourceMappingURL=343.js.map