{"version":3,"file":"545.js","mappings":"iTAWIA,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IACxBF,EAAQG,OAAS,SAAc,KAAM,QACrCH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKnB,QAAe,KAAW,WAAiB,gBAAiBM,E,oOCEnE,MAAMC,GAAMC,EAAAA,EAAAA,aAA4B,SAAaC,EAAOC,GAI1D,MAAOC,EAASC,IAAYC,EAAAA,EAAAA,WAAS,IAC9BC,EAAQC,IAAaF,EAAAA,EAAAA,WAAS,GAIrC,OAFAG,EAAAA,EAAAA,IAAS,CAACC,EAAOC,IAAWR,EAAQS,QAAQC,SAASC,GAAKH,IAGxDI,EAAAA,cAAA,OAAAC,EAAA,GACMd,EAAK,CACTe,IAAKd,EACLe,MAAOX,EAAS,IAAM,EACtBY,QAAUC,GAAUZ,GAAWD,GAC/Bc,cAAgBD,GAAUf,GAAS,GACnCiB,aAAeF,GAAUf,GAAS,KAElCU,EAAAA,cAAA,eAAaQ,KAAM,CAAC,EAAG,EAAG,KAC1BR,EAAAA,cAAA,wBAAsBS,MAAOpB,EAAU,UAAY,WAGzD,IAEe,SAASqB,IACtB,MAAMtB,GAAUuB,EAAAA,EAAAA,UAEVC,GAAeC,EAAAA,EAAAA,cAAY,KA/BnC,IAAyBC,EAAQC,EAARD,GAgCJ,IAAIE,EAAAA,GAEGC,MAAM7B,EAAQS,QAAS,CAAEqB,QAAQ,IAlC5BH,EAmCL,UA7C5B,SAAcI,EAAMJ,GAClB,MAAMK,EAAOC,SAASC,cAAc,KACpCF,EAAKG,MAAMC,QAAU,OACrBH,SAASI,KAAKC,YAAYN,GAC1BA,EAAKO,KAAOC,IAAIC,gBAAgBV,GAChCC,EAAKU,SAAWf,EAChBK,EAAKW,QACLV,SAASI,KAAKO,YAAYZ,EAC5B,CAGEa,CAAK,IAAIC,KAAK,CAACpB,GAAS,CAAEqB,KAAM,6BAA+BpB,EAkC3B,GACjC,IAIH,OAFAqB,EAAAA,EAAAA,YAAU,QAAU,IAGlBpC,EAAAA,cAAA,WAASqC,UAAWC,EAAAA,SAClBtC,EAAAA,cAAA,UAAI,OACJA,EAAAA,cAAA,WACEA,EAAAA,cAAA,UAAQI,QAASQ,GAAc,WAEjCZ,EAAAA,cAAA,OAAKuB,MAAO,CAAEgB,OAAQ,MACpBvC,EAAAA,cAACwC,EAAAA,GAAM,KACLxC,EAAAA,cAAA,gBAAcyC,UAAWC,KAAKC,GAAK,IACnC3C,EAAAA,cAAA,aACE4C,SAAU,CAAC,GAAI,GAAI,IACnBC,MAAO,IACPC,SAAU,EACVC,MAAO,EACPN,UAAWC,KAAKC,KAElB3C,EAAAA,cAAA,cACE4C,SAAU,EAAE,IAAK,IAAK,IACtBG,MAAO,EACPN,UAAWC,KAAKC,KAElB3C,EAAAA,cAACf,EAAG,CAACiB,IAAKd,EAASwD,SAAU,EAAE,IAAK,EAAG,OAMjD,C,iBCxFA,IAAII,EAAwC,EAAQ,MAEhDC,EAD8B,EAAQ,KACZC,CAA4BF,GAE1DC,EAAwBE,KAAK,CAACC,EAAOC,GAAI,4DAA6D,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,wDAAwD,MAAQ,GAAG,SAAW,6BAA6B,eAAiB,CAAC,gEAAgE,WAAa,MAE3UJ,EAAwBK,OAAS,CAChC,QAAW,wBAEZF,EAAOG,QAAUN,C","sources":["webpack://@dev/web/../stl/src/containers/styles.module.scss?d509","webpack://@dev/web/../stl/src/containers/index.tsx","webpack://@dev/web/../stl/src/containers/styles.module.scss"],"sourcesContent":["\n      import API from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/.pnpm/style-loader@4.0.0_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/.pnpm/css-loader@7.1.1_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!../../../../node_modules/.pnpm/sass-loader@14.2.0_sass@1.75.0_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/.pnpm/css-loader@7.1.1_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!../../../../node_modules/.pnpm/sass-loader@14.2.0_sass@1.75.0_webpack@5.91.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { Canvas, type MeshProps, useFrame } from \"@react-three/fiber\";\nimport { type Mesh } from \"three\";\nimport { STLExporter } from \"three/examples/jsm/exporters/STLExporter\";\nimport styles from \"./styles.module.scss\";\n\nfunction save(blob, filename) {\n  const link = document.createElement(\"a\");\n  link.style.display = \"none\";\n  document.body.appendChild(link);\n  link.href = URL.createObjectURL(blob);\n  link.download = filename;\n  link.click();\n  document.body.removeChild(link);\n}\n\nfunction saveArrayBuffer(buffer, filename) {\n  save(new Blob([buffer], { type: \"application/octet-stream\" }), filename);\n}\n\nconst Box = forwardRef<Mesh, MeshProps>(function Box(props, meshRef) {\n  // This reference will give us direct access to the mesh\n  // const meshRef = useRef()\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false);\n  const [active, setActive] = useState(false);\n  // Subscribe this component to the render-loop, rotate the mesh every frame\n  useFrame((state, delta) => (meshRef.current.rotation.x += delta));\n  // Return view, these are regular three.js elements expressed in JSX\n  return (\n    <mesh\n      {...props}\n      ref={meshRef}\n      scale={active ? 1.5 : 1}\n      onClick={(event) => setActive(!active)}\n      onPointerOver={(event) => setHover(true)}\n      onPointerOut={(event) => setHover(false)}\n    >\n      <boxGeometry args={[1, 1, 1]} />\n      <meshStandardMaterial color={hovered ? \"hotpink\" : \"orange\"} />\n    </mesh>\n  );\n});\n\nexport default function Section() {\n  const meshRef = useRef<Mesh>();\n\n  const handleExport = useCallback(() => {\n    const exporter = new STLExporter();\n\n    const result = exporter.parse(meshRef.current, { binary: true });\n    saveArrayBuffer(result, \"box.stl\");\n  }, []);\n\n  useEffect(() => {}, []);\n\n  return (\n    <section className={styles.Section}>\n      <h2>Stl</h2>\n      <div>\n        <button onClick={handleExport}>export</button>\n      </div>\n      <div style={{ height: 400 }}>\n        <Canvas>\n          <ambientLight intensity={Math.PI / 2} />\n          <spotLight\n            position={[10, 10, 10]}\n            angle={0.15}\n            penumbra={1}\n            decay={0}\n            intensity={Math.PI}\n          />\n          <pointLight\n            position={[-10, -10, -10]}\n            decay={0}\n            intensity={Math.PI}\n          />\n          <Box ref={meshRef} position={[-1.2, 0, 0]} />\n          {/* <Box position={[1.2, 0, 0]} /> */}\n        </Canvas>\n      </div>\n    </section>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/.pnpm/css-loader@7.1.1_webpack@5.91.0/node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/.pnpm/css-loader@7.1.1_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.KEyQ6xTtdx1PShrAb3nc{display:flex;flex-direction:column}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../stl/src/containers/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,qBAAA\",\"sourcesContent\":[\".Section {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": `KEyQ6xTtdx1PShrAb3nc`\n};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Box","forwardRef","props","meshRef","hovered","setHover","useState","active","setActive","useFrame","state","delta","current","rotation","x","React","_extends","ref","scale","onClick","event","onPointerOver","onPointerOut","args","color","Section","useRef","handleExport","useCallback","buffer","filename","STLExporter","parse","binary","blob","link","document","createElement","style","display","body","appendChild","href","URL","createObjectURL","download","click","removeChild","save","Blob","type","useEffect","className","styles","height","Canvas","intensity","Math","PI","position","angle","penumbra","decay","___CSS_LOADER_API_SOURCEMAP_IMPORT___","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","module","id","locals","exports"],"sourceRoot":""}